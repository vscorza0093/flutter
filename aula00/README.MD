# Aula 00 - Introdu√ß√£o ao Flutter

Instrutor Danilo Perez

Canal "Fala Devs" no `youtube`

``` 
Parte 1

Arquitetura do Flutter............................
Flutter Engine....................................
Biblioteca Foundation.............................
Design-Specific...................................
Vantagens de se trabalhar com Flutter.............
Camadas...........................................
Flutter x React Native............................


Parte 2

Configura√ß√£o do Ambiente Flutter..................
Emuladores Android Studio.........................


Parte 3

Primeiro projeto Flutter..........................
Estrutura do Projeto Flutter......................
Introdu√ß√£o √† estrutura de c√≥digo..................
Executando projeto Flutter pelo VSCode............
```


O objetivo desta trilha √© abordar Flutter e DART

* Hist√≥ria do Flutter e do DART
* Instala√ß√£o do ambiente Flutter
* Principais IDEs
* Criando um projeto Flutter
* Entendendo a estrutura do projeto


### Arquitetura do Flutter

A linguagem DART foi criado para ser um transpilador (igual ao Typescript), ou seja, voc√™ codificaria em DART, mas na hora da compila√ß√£o o c√≥digo seria convertido para JavaScript, para que pudesse ser reconhecido pelo navegador.

O DART se baseia muito em JavaScript, Java e C#.

Podemos utilizar objetos din√¢micos ou tipados, fun√ß√µes Map para lidar com listas, Where para filtros e diversas outras particularidades dos paradigmas.

### Flutter Engine (Skia)

Flutter √© um kit de desenvolvimento de interface de usu√°rio

O Flutter Engine √© respons√°vel pela renderiza√ß√£o dos elementos em tela. Quando precisamos criar um texto ou bot√£o, diferentemente de outras linguagens multi-plaforma que solicitam os componentes providos pelo sistema operacional para depois renderiz√°-los, o Flutter utiliza a tecnologia Skia Graphics Engine, que √© uma biblioteca open-source de gr√°ficos 2D para renderiza√ß√£o de componentes em tela, tecnologia antes usada para cria√ß√£o de jogos. 

Basicamente o Flutter desenha os diversos componentes que enviarmos para ele, possibilitando que sistemas operacionais mais antigos possam visualizar elementos de um Material Design, por exemplo.

Al√©m disso, o Flutter √© um framework muito fl√∫ido e est√°vel e possui diversas funcionalidades para anima√ß√µes e tratamento de componentes


### Biblioteca Fundation

Respons√°vel por toda a comunica√ß√£o entre a Interface do Usu√°rio e o Sistema Operacional. √â uma biblioteca que possui diversas APIs, o que possibilita uma conversa com o sistema operacional de forma nativa, podendo acessar c√¢mera, geo-localiza√ß√£o e outras funcionalidades.


### Design-specific

O Flutter utiliza as melhores pr√°ticas de cada sistema operacional, reconhecendo os diversos componentes e a linguagem de design implementada por cada desenvolvedora. Isso nos permite inserir componentes de um sistema iOS dentro de um aplicativo de sistema Android, por exemplo, j√° que esses componentes ser√£o apenas desenhados na tela do usu√°rio e n√£o importados do sistema operacional. 

Isso nos fornece uma riqueza e versatilidade na cria√ß√£o das aplica√ß√µes, controle total sobre o que queremos exibir em cada tela de cada sistema operacional e principalmente a facilita√ß√£o na cria√ß√£o multi-plataforma.

Ou seja, Widgets com implementa√ß√µes prontas para Android(Google Material) e iOS(Cupertino)


## Vantagens de se trabalhar com Flutter

* Alta produtividade
    - A linguagem DART √© muito simples
    - Hot Reload em tempo de execu√ß√£o (Quando mudamos algo no c√≥digo, a tela ser√° renderizada novamente com a mudan√ßa, sem necessidade de dar STOP no c√≥digo e sem voltar para a tela inicial do APP)
    - Usa o status atual da aplica√ß√£o e renderiza novamente

* Alta performance
    - N√£o utiliza uma bridge (c√≥digo que n√£o seja nativo, entre a interface e o sistema operacional)
    - Nosso c√≥digo DART, ap√≥s o build, se torna c√≥digo nativo.

* Desenvolvimento r√°pido
    - A simplicidade do Flutter, com a maneira intuitiva de trabalhar com o framework, aliado com o Hot Reload e sua alta performance, tornam o desenvolvimento Flutter muito r√°pido

* Simplicidade
    
* Compatibilidade
    - Com apenas um c√≥digo, na vers√£o 3.0 do Flutter, conseguimos entregar vers√µes Android, iOS e Fuchsia e executaveis para Windows, Linux, Mac e ChromeOS, tamb√©m podemos gerar aplica√ß√µes para Web e para o sistema operacional



## Camadas do Flutter

Camada Alto n√≠vel - Framework Flutter com DART
* Material, Cupertino
* Widgets
* Rendering
* Animation, Painting, Gestures
* Foundation

Camada Intermedi√°ria - Engine C/C++
* Service Protocol, Composition, Platform Channels
* Dart Isolate Setup, Rendering, System Events
* Dart Runtime Managment, Frame Scheduling, Asset Resolution
* Frame Pipelining, Text Layout

Camada Baixo n√≠vel - Embedder Platform-specific
* Render Surface Setup, Native Plugins, App App Packaging
* Thread Setup, Event Loop Interop


### Flutter x Reactive Native

Como o Flutter n√£o possui essa ponte (camada intermedi√°ria entre o sistema operacional e o hardware), diferentemente do React Native por exemplo, o Flutter pode acessar diretamente recursos nativos, como acesso √† geo-localiza√ß√£o, c√¢mera e microfone sem que haja necessidade de uma comunica√ß√£o intermedi√°ria, trazendo melhorias na performance.



## Configura√ß√£o do ambiente Flutter

Instala√ß√£o Flutter Windows [1]
`git clone https://github.com/flutter/flutter.git -b stable`

Adicionar Flutter no Path das Vari√°veis de Ambiente para que o Flutter possa ser executado fora da pasta bin

`C:\flutter\bin`

Utilizamos o comando `flutter doctor` para verificar a sa√∫de do Flutter em nosso sistema, em conjunto com as IDEs em que podemos utilizar o framework.

Meu exemplo, sem o Android Toolchain instalado e o Android Studio necessitando corre√ß√£o e com o Visual Studio instalado, possibilitando desenvolvimento para Windows:

```
PS C:\flutter\bin> flutter doctor
Downloading Material fonts...                                      799ms
Downloading Gradle Wrapper...                                       32ms
Downloading package sky_engine...                                  176ms
Downloading flutter_patched_sdk tools...                           911ms
Downloading flutter_patched_sdk_product tools...                   352ms
Downloading windows-x64 tools...                                    3,2s
Downloading windows-x64/font-subset tools...                       172ms
Doctor summary (to see all details, run flutter doctor -v):
[‚úì] Flutter (Channel stable, 3.13.0, on Microsoft Windows [vers√Üo 10.0.22621.1992], locale pt-BR)
[‚úì] Windows Version (Installed version of Windows is version 10 or higher)
[‚úó] Android toolchain - develop for Android devices
    ‚úó Unable to locate Android SDK.
      Install Android Studio from: https://developer.android.com/studio/index.html
      On first launch it will assist you in installing the Android SDK components.
      (or visit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions).
      If the Android SDK has been installed to a custom location, please use
      `flutter config --android-sdk` to update to that location.

[‚úì] Chrome - develop for the web
[‚úì] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.5.5)
[!] Android Studio (not installed)
[‚úì] VS Code (version 1.81.1)
[‚úì] Connected device (3 available)
[‚úì] Network resources
```

### Emuladores Android Studio

Podemos criar emuladores, dentro do Android Studio, que representar√£o os dispositivos para os quais estamos criando nossa aplica√ß√£o. Se desejarmos, podemos codificar o APP diretamente pelo dispositivo m√≥vel f√≠sico - eu farei tudo pelo computador por enquanto. 

Na tela inicial do Android Studio -> More Actions -> Virtual Device Manager -> Create Device 

Deveremos selecionar o dispositivo com seu tamanho e resolu√ß√£o e a vers√£o do Android que desejamos.



## Primeiro projeto em Flutter

Criamos projetos Flutter atrav√©s do comando padr√£o `flutter create <string>` onde a string ser√° o nome do projeto. N√£o √© permitido usar caracteres especiais.

`flutter create -t app --org com.companyname.packagename -a kotlin -i swift <string>`

Este comando avan√ßado cria um projeto flutter, utiliza a flag `-t` para definir o template do tipo de projeto, que no caso √© `app`, --org para definir como bundle name no caso do app e packagename no caso do android

* Para subir uma aplica√ß√£o tanto na loja Android como Google, o app deve ter um nome √∫nico, n√£o pode haver duplica√ß√£o, ent√£o passa-se o nome na cria√ß√£o do projeto atrav√©s do par√¢metro --org utilizando um nome em formato de URL onde podemos inserir o nome que quisermos

A flag `-a` indica o padr√£o da linguagem que vai ser usado pelas aplica√ß√µes Android, Java ou Kotlin

A flag `-i` indica qual linguagem ser√° usada pelas aplica√ß√µes iOS, geralmente swif

<string> ser√° o nome do projeto, que n√£o precisa ser igual ao nome inserido na flag --org  

flutter create -t app --org com.viniciusscorza.dioapp -a kotlin -i swift dioproject

All done!
In order to run your application, type:

  $ cd dioproject
  $ flutter run

Your application code is in dioproject\lib\main.dart.

Executando o comando `flutter run` o Web SDK ser√° baixado.
A partir da vers√£o 3.0 do Flutter, √© poss√≠vel desenvolver aplica√ß√µes Web, ainda sem tanto processamento de efeito, mas telas de cadastro e sistemas mais simples s√£o poss√≠veis.

Durante a instala√ß√£o, ser√° requisitado que informemos para qual plataforma dispon√≠vel desejamos desenvolver:

[1]: Windows (windows)
[2]: Chrome (chrome)
[3]: Edge (edge)


`üî•  To hot restart changes while running, press "r" or "R".`
`For a more detailed help message, press "h". To quit, press "q".`

Tudo certo, o projeto est√° configurado e pronto para ser desenvolvido.


### Estrutura do Projeto Flutter

Dentro do VSCode utilizamos o command pallet (ctrl + shift + P) e buscamos por Launcher: Flutter emulator para rodar o emulador do dispositivo.

.dart_tool - Pasta gerada automaticamente que cont√©m todos os arquivos de configura√ß√£o do projeto e outras informa√ß√µes que s√£o constantemente atualizadas.

android - Pasta que cont√©m todos os c√≥digos referentes ao sistema Android, como informa√ß√µes do AndroidManifest. As pastas com nomes de tecnologias s√£o similares ao que representa a pasta android, com seus pr√≥prios arquivos

build - Pasta que recebe o arquivo .apk e todos os arquivos de build

lib - Cont√©m nosso arquivo `main.dart`

test - Onde podemos criar os testes da aplica√ß√£o

nomedoprojeto.iml - Configura√ß√µes do projeto Flutter

pubspec.lock - Arquivo fechado que cont√©m as vers√µes, pacotes e outras depend√™ncias usadas pela aplica√ß√£o.

pubspec.yaml - Configura√ß√µes da aplica√ß√£o Flutter. Onde armazenamos imagens, fontes, pacotes espec√≠ficos e outros configura√ß√µes. Dentro do arquivo podemos encontrar exemplos de utiliza√ß√£o do arquivo.

### Introdu√ß√£o √† estrutura de c√≥digo

A fun√ß√£o `main()` est√° utilizando a fun√ß√£o `runApp()` passando uma inst√¢ncia da classe do nosso aplicativo `MyApp` como par√¢metro.

Possui um estilo de tipagem din√¢mico, aceitando tipagem est√°tica, forte ou inferida e obrigando o uso de `;`

A classe MyApp est√° herdando de StatelessWidget, recebendo alguns par√¢metros e aplicando um override no m√©todo `build()` da classe Widget

O m√©todo `build()` √© o m√©todo principal para renderiza√ß√£o de componentes na nossa tela. Dentro do build() temos o MaterialApp que √© o padr√£o do Google e √© a classe que de padr√£o define algumas configura√ß√µes da nossa aplica√ß√£o, como t√≠tulo, esquema de cores e a widget inicial da aplica√ß√£o, mas √© uma classe extremamente customiz√°vel. 

Home define o Widget principal que ser√° executado. No nosso caso:
```dart
home: const MyHomePage(title: 'Flutter Demo Home Page')
```

A classe MyHomePage representa a nossa p√°gina inicial, que √© a √∫nica na aplica√ß√£o, at√© o momento. Ela herda de StatefulWidget, tamb√©m recebe alguns par√¢metros, por exemplo o t√≠tulo passado, e utiliza uma outra classe para manter o estado atual da aplica√ß√£o.

Neste mesmo arquivo podemos encontrar o m√©todo `build()` que √© de fato o m√©todo que executa a renderiza√ß√£o da p√°gina.

Ele possui um `Scaffold`, que √© um Widget que entregar√° uma p√°gina base que conter√° um AppBar com informa√ß√µes padr√µes, um Body pr√©-configurado, columns com alinhamentos e textos pr√©-definidos e bot√µes utiliz√°veis.


### Executando projeto Flutter pelo VSCode

Utilizamos o command pallet (ctrl + shift + P) para rodarmos o nosso emulador que foi pr√©-configurado.

Agora podemos selecionar o debugger Flutter + Dart no VSCode e toda vez que o emulador estiver aberto, basta executarmos o c√≥digo com (F5) e o debugger estar√° ativo para nossa aplica√ß√£o dentro do emulador.

Ap√≥s baixar todos os pacotes e carregar todas as depend√äncias, o projeto abrir√° automaticamente no emulador.

Gra√ßas ao Hot Reload, modo do Dart que usaremos no VSCode, toda altera√ß√£o feita no c√≥digo j√° ir√° atualizar automaticamente a nossa aplica√ß√£o, sem recarregar todo o conte√∫do e nos levar de volta para a p√°gina inicial.

Este √© um framework muito vers√°til e podemos manipular todas as cores, caracter√≠sticas das fontes, √≠cones e muitos outros elementos, de maneira simples e intuitiva, por exemplo:

mudar isso:
```dart
child: const Icon(Icons.add),
```

para:
```dart
child: const Icon(Icons.add_alert),
```






Bibliografia

[1] https://docs.flutter.dev/get-started/install/windows


Certifica√ß√µes

https://www.dio.me/certificate/4DEA7C50/share
https://www.dio.me/certificate/FA519B2A/share
https://www.dio.me/certificate/88E6C0FE/share
